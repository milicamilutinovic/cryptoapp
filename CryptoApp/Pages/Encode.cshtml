@page
@model CryptoApp.Pages.EncodeModel
@{
    ViewData["Title"] = "Šifrovanje fajla";
}

<h1>Šifrovanje fajla</h1>

<div style="max-width:480px;margin:2rem auto;padding:1.5rem;border:2px solid #7b4ae2;border-radius:12px;background-color:#1e1e2f;color:#eee;">
    <form method="post" enctype="multipart/form-data">
        <label>Izaberite fajl:</label>
        <input type="file" name="UploadedFile" required />

        <label>Izaberite algoritam:</label>
        <select name="Algorithm" required>
            <option value="RC4">RC4</option>
            <option value="XTEA">XTEA</option>
            <option value="XTEA-CBC">XTEA-CBC</option>
        </select>

        <button type="submit" style="margin-top:1rem;padding:0.8rem 1rem;border:none;border-radius:8px;background:linear-gradient(45deg,#7b4ae2,#9f7eff);color:white;font-weight:700;cursor:pointer;">Šifruj fajl</button>
    </form>

    @if (!string.IsNullOrEmpty(Model.EncryptedFilePath))
    {
        <p style="margin-top:1rem;color:#9f7eff;font-weight:700;">
            Fajl uspešno šifrovan:
            <a href="@Url.Content($"~/{Model.EncryptedFilePath}")" target="_blank" style="color:#7b4ae2;">Preuzmi ovde</a>
        </p>
    }

    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
    {
        <p style="margin-top:1rem;color:#e74c3c;font-weight:700;">@Model.ErrorMessage</p>
    }
</div>
