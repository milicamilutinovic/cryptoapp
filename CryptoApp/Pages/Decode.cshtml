@page
@model CryptoApp.Pages.DecodeModel
@{
    ViewData["Title"] = "Dekripcija fajla";
}

<h1>Dekripcija fajla</h1>

<div style="max-width:480px;margin:2rem auto;padding:1.5rem;border:2px solid #7b4ae2;border-radius:12px;background-color:#1e1e2f;color:#eee;">
    <form method="post">
        <label>Izaberite šifrovani fajl:</label>
        <select name="SelectedFile" required>
            @foreach (var file in Model.EncryptedFiles)
            {
                <option value="@file">@file</option>
            }
        </select>

        <button type="submit" style="margin-top:1rem;padding:0.8rem 1rem;border:none;border-radius:8px;background:linear-gradient(45deg,#7b4ae2,#9f7eff);color:white;font-weight:700;cursor:pointer;">Dekripcija</button>
    </form>

    @if (!string.IsNullOrEmpty(Model.DecryptedFilePath))
    {
        <p style="margin-top:1rem;color:#9f7eff;font-weight:700;">
            Fajl uspešno dekriptovan:
            <a href="@Url.Content($"~/{Model.DecryptedFilePath}")" target="_blank" style="color:#7b4ae2;">Preuzmi ovde</a>
        </p>
    }

    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
    {
        <p style="margin-top:1rem;color:#e74c3c;font-weight:700;">@Model.ErrorMessage</p>
    }
</div>
